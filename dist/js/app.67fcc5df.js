(function(e){function t(t){for(var r,o,i=t[0],d=t[1],l=t[2],u=0,f=[];u<i.length;u++)o=i[u],a[o]&&f.push(a[o][0]),a[o]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);c&&c(t);while(f.length)f.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var d=s[o];0!==a[d]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function o(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"4fc691b7"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var r=new Promise(function(t,r){s=a[e]=[t,r]});t.push(s[2]=r);var n,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=o(e),n=function(t){d.onerror=d.onload=null,clearTimeout(l);var s=a[e];if(0!==s){if(s){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+n+")");o.type=r,o.request=n,s[1](o)}a[e]=void 0}};var l=setTimeout(function(){n({type:"timeout",target:d})},12e4);d.onerror=d.onload=n,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var c=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"127c":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var r=s("2b0e"),a=s("bb71");s("da64");r["a"].use(a["a"],{iconfont:"md"});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-toolbar",{attrs:{app:""}},[s("v-toolbar-side-icon",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.login_user,expression:"$store.state.login_user"}],on:{click:function(t){return t.stopPropagation(),e.toggleSideMenu(t)}}}),s("v-toolbar-title",{staticClass:"headline text-uppercase"},[s("span",[e._v("マイアドレス帳")])]),s("v-spacer"),e.$store.state.login_user?s("v-toolbar-items",[s("v-btn",{on:{click:e.logout}},[e._v("ログアウト")])],1):e._e()],1),s("SideNav"),s("v-content",[s("router-view")],1)],1)},o=[],i=s("cebc"),d=(s("7f7f"),s("8aa5")),l=s.n(d),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.$store.state.drawer,callback:function(t){e.$set(e.$store.state,"drawer",t)},expression:"$store.state.drawer"}},[s("v-list",{staticClass:"pa-1"},[s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[e.photoURL?s("img",{attrs:{src:e.photoURL}}):e._e()]),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(e.userName))])],1)],1)],1),s("v-list",{staticClass:"pt-0",attrs:{dense:""}},[s("v-divider"),e._l(e.items,function(t){return s("v-list-tile",{key:t.title,attrs:{to:t.link}},[s("v-list-tile-action",[s("v-icon",[e._v(e._s(t.icon))])],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(t.title))])],1)],1)})],2)],1)},c=[],f=s("2f62"),v={data:function(){return{items:[{title:"連絡先一覧",icon:"list",link:{name:"addresses"}}]}},computed:Object(i["a"])({},Object(f["c"])(["userName","photoURL"]))},p=v,m=s("2877"),h=s("6544"),b=s.n(h),g=s("ce7e"),x=s("132d"),_=s("8860"),y=s("ba95"),V=s("40fe"),w=s("c954"),j=s("5d23"),A=s("f774"),$=Object(m["a"])(p,u,c,!1,null,null,null),L=$.exports;b()($,{VDivider:g["a"],VIcon:x["a"],VList:_["a"],VListTile:y["a"],VListTileAction:V["a"],VListTileAvatar:w["a"],VListTileContent:j["a"],VListTileTitle:j["b"],VNavigationDrawer:A["a"]});var O={name:"App",components:{SideNav:L},created:function(){var e=this;l.a.auth().onAuthStateChanged(function(t){t?(e.setLoginUser(t),e.fetchAddresses(),"home"===e.$router.currentRoute.name&&e.$router.push({name:"addresses"})):(e.deleteLoginUser(),e.$router.push({name:"home"}))})},data:function(){return{}},methods:Object(i["a"])({},Object(f["b"])(["toggleSideMenu","setLoginUser","logout","deleteLoginUser","fetchAddresses"]))},k=O,C=s("7496"),S=s("8336"),T=s("549c"),U=s("9910"),I=s("71d9"),P=s("2a7f"),E=s("706c"),M=Object(m["a"])(k,n,o,!1,null,null,null),R=M.exports;b()(M,{VApp:C["a"],VBtn:S["a"],VContent:T["a"],VSpacer:U["a"],VToolbar:I["a"],VToolbarItems:P["a"],VToolbarSideIcon:E["a"],VToolbarTitle:P["b"]});var N=s("8c4f"),B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"text-xs-center":"","justify-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h1",[e._v("マイアドレス帳")]),s("p",[e._v("マイアドレス帳をご利用の方は、Googleアカウントでログインしてください。")])]),s("v-flex",{attrs:{xs12:"","mt-5":""}},[s("v-btn",{attrs:{color:"info"},on:{click:e.login}},[e._v("Googleアカウントでログイン")])],1)],1)],1)},F=[],D={methods:Object(i["a"])({},Object(f["b"])(["login"]))},q=D,z=s("a523"),G=s("0e8f"),J=s("a722"),W=Object(m["a"])(q,B,F,!1,null,null,null),K=W.exports;b()(W,{VBtn:S["a"],VContainer:z["a"],VFlex:G["a"],VLayout:J["a"]});var Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"text-xs-center":"","justify-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("h1",[e._v("連絡先一覧")])]),s("v-flex",{attrs:{xs12:"","mt-5":"","mr-5":"","text-xs-right":""}},[s("router-link",{attrs:{to:{name:"address_edit"}}},[s("v-btn",{attrs:{color:"info"}},[e._v("\n          連絡先追加\n        ")])],1)],1),s("v-flex",{attrs:{xs12:"","mt-3":"","justify-center":""}},[s("v-data-table",{attrs:{headers:e.headers,items:e.addresses},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.name))]),s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.tel))]),s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.email))]),s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.address))]),s("td",{staticClass:"text-xs-left"},[s("span",[s("router-link",{attrs:{to:{name:"address_edit",params:{address_id:t.item.id}}}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("edit")])],1)],1),s("span",[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(s){return e.deleteConfirm(t.item.id)}}},[e._v("delete")])],1)])]}}])})],1)],1)],1)},Y=[],H={created:function(){this.addresses=this.$store.state.addresses},data:function(){return{headers:[{text:"名前",value:"name"},{text:"電話番号",value:"tel"},{text:"メールアドレス",value:"email"},{text:"住所",value:"address"},{text:"操作",sortable:!1}],addresses:[]}},methods:Object(i["a"])({deleteConfirm:function(e){confirm("削除してよろしいですか？")&&this.deleteAddress({id:e})}},Object(f["b"])(["deleteAddress"]))},X=H,Z=(s("8f6c"),s("8fea")),ee=Object(m["a"])(X,Q,Y,!1,null,"a4c8bacc",null),te=ee.exports;b()(ee,{VBtn:S["a"],VContainer:z["a"],VDataTable:Z["a"],VFlex:G["a"],VIcon:x["a"],VLayout:J["a"]});var se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs12:""}},[s("h1",[e._v("連絡先編集")])]),s("v-flex",{attrs:{xs5:"","mt-5":""}},[s("v-card",[s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{label:"名前"},model:{value:e.address.name,callback:function(t){e.$set(e.address,"name",t)},expression:"address.name"}}),s("v-text-field",{attrs:{label:"電話番号"},model:{value:e.address.tel,callback:function(t){e.$set(e.address,"tel",t)},expression:"address.tel"}}),s("v-text-field",{attrs:{label:"メールアドレス"},model:{value:e.address.email,callback:function(t){e.$set(e.address,"email",t)},expression:"address.email"}}),s("v-text-field",{attrs:{label:"住所"},model:{value:e.address.address,callback:function(t){e.$set(e.address,"address",t)},expression:"address.address"}}),s("v-btn",{on:{click:function(t){return e.$router.push({name:"addresses"})}}},[e._v("キャンセル")]),s("v-btn",{attrs:{color:"info"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)],1)],1)],1)},re=[],ae={created:function(){if(this.$route.params.address_id){var e=this.$store.getters.getAddressById(this.$route.params.address_id);e?this.address=e:this.$router.push({name:"addresses"})}},data:function(){return{address:{}}},methods:Object(i["a"])({submit:function(){this.$route.params.address_id?this.updateAddress({id:this.$route.params.address_id,address:this.address}):this.addAddress(this.address),this.$router.push({name:"addresses"}),this.address={}}},Object(f["b"])(["addAddress","updateAddress"]))},ne=ae,oe=s("b0af"),ie=s("99d9"),de=s("4bd4"),le=s("2677"),ue=Object(m["a"])(ne,se,re,!1,null,null,null),ce=ue.exports;b()(ue,{VBtn:S["a"],VCard:oe["a"],VCardText:ie["a"],VContainer:z["a"],VFlex:G["a"],VForm:de["a"],VLayout:J["a"],VTextField:le["a"]}),r["a"].use(N["a"]);var fe=new N["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:K},{path:"/addresses",name:"addresses",component:te},{path:"/addresses/:address_id?/edit",name:"address_edit",component:ce},{path:"/about",name:"about",component:function(){return s.e("about").then(s.bind(null,"f820"))}}]});s("7514"),s("ac6a"),s("20d6");r["a"].use(f["a"]);var ve=new f["a"].Store({state:{login_user:null,drawer:!1,addresses:[]},mutations:{setLoginUser:function(e,t){e.login_user=t},deleteLoginUser:function(e){e.login_user=null},toggleSideMenu:function(e){e.drawer=!e.drawer},addAddress:function(e,t){var s=t.id,r=t.address;r.id=s,e.addresses.push(r)},updateAddress:function(e,t){var s=t.id,r=t.address,a=e.addresses.findIndex(function(e){return e.id===s});e.addresses[a]=r},deleteAddress:function(e,t){var s=t.id,r=e.addresses.findIndex(function(e){return e.id===s});e.addresses.splice(r,1)}},actions:{setLoginUser:function(e,t){var s=e.commit;s("setLoginUser",t)},fetchAddresses:function(e){var t=e.getters,s=e.commit;l.a.firestore().collection("users/".concat(t.uid,"/addresses")).get().then(function(e){e.forEach(function(e){return s("addAddress",{id:e.id,address:e.data()})})})},login:function(){var e=new l.a.auth.GoogleAuthProvider;l.a.auth().signInWithRedirect(e)},logout:function(){l.a.auth().signOut()},deleteLoginUser:function(e){var t=e.commit;t("deleteLoginUser")},toggleSideMenu:function(e){var t=e.commit;t("toggleSideMenu")},addAddress:function(e,t){var s=e.getters,r=e.commit;s.uid&&l.a.firestore().collection("users/".concat(s.uid,"/addresses")).add(t).then(function(e){r("addAddress",{id:e.id,address:t})})},updateAddress:function(e,t){var s=e.getters,r=e.commit,a=t.id,n=t.address;s.uid&&l.a.firestore().collection("users/".concat(s.uid,"/addresses")).doc(a).update(n).then(function(){r("updateAddress",{id:a,address:n})})},deleteAddress:function(e,t){var s=e.getters,r=e.commit,a=t.id;s.uid&&l.a.firestore().collection("users/".concat(s.uid,"/addresses")).doc(a).delete().then(function(){r("deleteAddress",{id:a})})}},getters:{userName:function(e){return e.login_user?e.login_user.displayName:""},photoURL:function(e){return e.login_user?e.login_user.photoURL:""},uid:function(e){return e.login_user?e.login_user.uid:null},getAddressById:function(e){return function(t){return e.addresses.find(function(e){return e.id===t})}}}});r["a"].config.productionTip=!1;var pe={apiKey:"AIzaSyAYjzet0qVtkJQmx6_d31oWbCRiqgoj5kE",authDomain:"vue-dictionary-f0b24.firebaseapp.com",databaseURL:"https://vue-dictionary-f0b24.firebaseio.com",projectId:"vue-dictionary-f0b24",storageBucket:"vue-dictionary-f0b24.appspot.com",messagingSenderId:"906751858198",appId:"1:906751858198:web:c011017412fceef0"};l.a.initializeApp(pe),new r["a"]({router:fe,store:ve,render:function(e){return e(R)}}).$mount("#app")},"8f6c":function(e,t,s){"use strict";var r=s("127c"),a=s.n(r);a.a}});
//# sourceMappingURL=app.67fcc5df.js.map